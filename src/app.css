@import 'tailwindcss';
@plugin '@tailwindcss/typography';

@theme {
	--font-sans: 'Inter', 'Noto Sans JP', ui-sans-serif, system-ui, sans-serif;

	/* Custom breakpoint for extra small screens */
	--breakpoint-xs: 475px;

	/* Primary colors */
	--color-primary-50: oklch(97% 0.02 250);
	--color-primary-100: oklch(94% 0.04 250);
	--color-primary-200: oklch(88% 0.08 250);
	--color-primary-300: oklch(80% 0.12 250);
	--color-primary-400: oklch(70% 0.16 250);
	--color-primary-500: oklch(60% 0.18 250);
	--color-primary-600: oklch(50% 0.18 250);
	--color-primary-700: oklch(42% 0.16 250);
	--color-primary-800: oklch(35% 0.12 250);
	--color-primary-900: oklch(28% 0.08 250);
	--color-primary-950: oklch(20% 0.04 250);
}

@custom-variant dark (&:where(.dark, .dark *));

html {
	scroll-behavior: smooth;
}

body {
	font-family: var(--font-sans);
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

/* Dark mode color scheme */
html.dark {
	color-scheme: dark;
}

/* Smooth transitions for theme changes (in @layer base to not override Tailwind utilities) */
@layer base {
	* {
		transition-property: background-color, border-color;
		transition-duration: 150ms;
		transition-timing-function: ease-in-out;
	}
}

/* Ensure minimum touch target size for interactive elements */
@media (pointer: coarse) {
	a,
	button {
		min-height: 44px;
		min-width: 44px;
	}
}

/* Prevent horizontal scroll on mobile */
html,
body {
	overflow-x: hidden;
}

/* Improve text rendering */
h1,
h2,
h3,
h4,
h5,
h6 {
	text-wrap: balance;
}

p {
	text-wrap: pretty;
}

/* README badge images should be inline (horizontal) */
.prose p > img {
	display: inline-block;
	margin: 0 0.25rem 0.25rem 0;
}

/* When paragraph only contains images, make it flex container */
.prose p:has(> img:first-child):has(> img:last-child):not(:has(> :not(img):not(a))) {
	display: flex;
	flex-wrap: wrap;
	gap: 0.5rem;
	align-items: center;
}

/* Also handle images wrapped in links (common for badges) */
.prose p > a > img {
	display: inline-block;
	margin: 0;
}

/* Code blocks: reset inline code styles inside pre */
.prose pre code {
	background-color: transparent !important;
	padding: 0 !important;
	border-radius: 0 !important;
	font-size: inherit;
	color: inherit;
}

/* Code block styling */
.prose pre {
	background-color: #1f2937;
	color: #e5e7eb;
	overflow-x: auto;
	padding: 1rem;
	border-radius: 0.5rem;
}

/* Dark mode code block */
.dark .prose pre {
	background-color: #1e293b;
	border: 1px solid #334155;
}
